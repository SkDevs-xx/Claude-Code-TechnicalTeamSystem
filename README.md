# Claude Code tmux Max: マルチエージェント開発フレームワーク

このリポジトリは、tmux環境内でシミュレートされた、マルチエージェントAIによる開発を行うための先進的なフレームワークです。このプロジェクトの最終目標は、AIエージェントに対して明確な階層構造と厳格な通信プロトコルを確立することにより、安定的で、予測可能かつ堅牢なソフトウェア開発を実現することにあります。

## このプロジェクトの背景

このフレームワークは、一人の人間のアーキテクトと大規模言語モデルとの間の、集中的かつ反復的な対話と実証実験を通じて設計・構築されました。これは、単一の巨大なAI（モノリス）が持つ本質的な予測不能性を、AIを協調的な専門家チームへと組織化することによって克服するという、高度なAIマネジメント理論の実践的な実装です。

## 設計思想：一枚岩（モノリス）から組織へ

単一で強力なAIに複雑なタスクを与えると、時に「ハルシネーション（幻覚）」を起こしたり、予測不能なショートカットをとったりすることがあります。このフレームワークは、AIを人間の開発チームのように階層的な組織へと構造化することで、これらのリスクを軽減できるという哲学に基づいています。

限定的かつ明確な役割と責任を割り当てることで、私たちは一人の「全知な」AIを、予測可能な専門家チームへと変貌させます。

-   **PRESIDENT (インターフェース兼監督者):** 人間との境界を管理し、高レベルなビジョンを提示する。
-   **BOSS (管理者):** 英語で思考するプロジェクトマネージャー。タスクを分解し、ワーカーを管理し、品質保証に全責任を負う。
-   **WORKER (実行者):** 英語で思考する専門の開発者。割り当てられた特定のタスクの実行にのみ集中する。

この構造は、最上位のエージェントが実装の詳細で迷子になることを防ぎ、すべてのコードが品質担当のエージェントによって検証されることを保証します。

## 主な特徴

-   **階層的なエージェント構造:** 明確な指揮系統（PRESIDENT → BOSS → WORKER）が、予測可能なワークフローを保証します。
-   **モジュール化された厳格な役割定義:** エージェントの役割、責任、禁止事項を中央の`roles.json`ファイルで厳格に定義し、AIにとっての「信頼できる唯一の情報源」を提供します。
-   **インテリジェントな言語境界インターフェース:** `PRESIDENT`エージェントが人間（日本語）とAIチーム（英語）の間の通訳として機能。これにより、AIの論理性能とユーザーの利便性を両立させます。
-   **英語による内部オペレーション:** エージェント間の全ての内部通信を英語に統一。これにより、AIの解釈の曖昧さを排除し、その論理性能を最大限に引き出し、動作の安定性を劇的に向上させます。
-   **tmuxによるマルチエージェント・シミュレーション:** `tmux`の能力を最大限に活用し、各ペインが一人の独立したAIエージェントとして機能する仮想環境を構築します。
-   **堅牢なエラー処理サイクル:** `BOSS`エージェントが品質保証サイクル（統合、ビルド、テスト）の全責任を負い、失敗時には`WORKER`に対して的確な修正指示を発行します。

## アーキテクチャとファイル構成

フレームワークの構成はモジュール化されており、メンテナンスと理解を容易にします。

```
Claude-Code-tmux-Max
 ┣ roles
 ┃ ┣ agent-send.sh
 ┃ ┣ boss.md
 ┃ ┣ president.md
 ┃ ┣ roles.json
 ┃ ┗ worker.md
 ┣ CLAUDE.md
 ┣ README.md
 ┗ setup.sh
```

## はじめに

### 前提条件

-   **tmux:** `tmux`がインストールされている必要があります。
-   **Claude Code:** このフレームワークは、ターミナルと対話できるClaude Codeのような環境で使用されることを想定しています。
-   **シェル環境:** 標準的なUnixライクシェル（bash, zshなど）。

### セットアップ

1.  **リポジトリをクローン:**
    ```bash
    git clone https://github.com/SkDevs-xx/Claude-Code-tmux-Max.git
    cd Claude-Code-tmux-Max
    ```

2.  **スクリプトに実行権限を付与:**
    ```bash
    chmod +x roles/agent-send.sh setup.sh
    ```

3.  **セットアップスクリプトの実行:**
    `setup.sh`スクリプトは、必要なtmuxセッションとペインを自動的に作成します。
    ```bash
    ./setup.sh
    ```
    *(注意: 必要に応じて`setup.sh`や`roles/agent-send.sh`を、あなたの環境に合わせて修正してください。)*

## ワークフロー：使い方

このフレームワークは、人間が最初のトリガーを引くことで起動します。

1.  **プロジェクトのキックオフ (人間の操作):**
    自動化された全ワークフローは、人間のユーザーが`PRESIDENT`のペインに**日本語で指示**を送信することで開始されます。
    ```bash
    # PRESIDENTのペインに、実行したいタスクを含めて送信する
    あなたはpresidentです。htmlとjsで動くテトリスを作成してください。
    ```

2.  **自動化されたカスケード（連鎖反応）:**
    -   **[日本語→英語]** `PRESIDENT`は日本語の指示を受け取り、タスクの核心部分を**英語に翻訳**し、`BOSS`に**英語で**指示を出します。
    -   **[英語]** `BOSS`は英語の指示を元にタスクを分解し、`WORKER`たちに**英語で**指示を出します。
    -   **[英語]** 各`WORKER`はタスクを実行し、完了を**英語で**`BOSS`に報告します。
    -   **[英語]** `BOSS`は品質保証サイクルを実行し、問題がなければ最終報告を**英語で**`PRESIDENT`に送信します。
    -   **[英語→日本語]** `PRESIDENT`は`BOSS`からの英語の最終報告を受け取り、その内容を要約して**日本語に翻訳**します。

3.  **完了:**
    `PRESIDENT`が、あなたに対して最終的な成果を**日本語で報告**した時点で、ワークフローは完了します。

## ライセンス

このプロジェクトはMITライセンスです。