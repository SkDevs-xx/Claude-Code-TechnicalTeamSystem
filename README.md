# Claude Code tmux Max: AI マルチエージェント開発フレームワーク

このリポジトリは、tmux環境でシミュレートされたマルチエージェントAIによる協調開発を実現する先進的なフレームワークです。単一のAIが持つ予測困難性を、階層化された専門エージェントチームによって制御可能で安定したソフトウェア開発プロセスへと変貌させます。

## 🎯 なぜこのフレームワークが必要なのか

**従来の問題：巨大AIのコントロール困難性**
- 大規模言語モデルに複雑なタスクを与えると、予期しない方向に進む
- ハルシネーションや予測不可能なショートカットが発生
- 途中でタスクの重要な要件を見落とす可能性

**解決策：組織化されたAIチーム**
- 人間の開発チームと同様の階層構造を導入
- 各エージェントに明確で限定的な役割を割り当て
- 段階的なチェック＆修正サイクルで品質を担保

## 🏗️ システム設計思想

### エージェント階層構造
```
[人間ユーザー] (日本語)
    ↓
[PM: プロジェクト統括] (日本語 ↔ 英語翻訳)
    ↓
[TechLead: 技術責任者] (英語・JSON通信)
    ↓
[BP1,2,3: 開発実行者] (英語・JSON通信)
```

### 言語戦略の最適化
- **フロントエンド（日本語）**: 人間との自然なコミュニケーション
- **バックエンド（英語）**: AIの論理性能を最大化、解釈の曖昧さを排除
- **構造化通信（JSON）**: エージェント間の正確な情報伝達

## 🚀 主な特徴

### ✅ 予測可能なワークフロー
階層的な指揮系統により、タスクの進行が透明で制御しやすい

### ✅ 品質保証の自動化
TechLeadエージェントが統合テスト・ビルド・修正指示を一括管理

### ✅ モジュール設計
各エージェントの役割が`roles.json`で厳密に定義され、保守性が高い

### ✅ リアルタイム協調
tmuxベースの環境で、各エージェントが独立したペインで同時並行作業

### ✅ 変更要求への対応
プロジェクト途中での仕様変更も、計画的なワークフローで処理

## 📁 プロジェクト構成

```
Claude-Code-tmux-Max/
├── roles/                  # エージェント定義
│   ├── roles.json         # 役割・権限の厳密な定義
│   ├── pm.md              # PMエージェント指示書
│   ├── techlead.md        # TechLeadエージェント指示書
│   ├── bp.md              # 開発者エージェント指示書
│   └── agent-send.sh      # エージェント間通信スクリプト
├── CLAUDE.md              # システム全体の憲法
├── README.md              # このファイル
├── setup.sh               # 環境セットアップスクリプト
└── session-kill.sh        # セッション終了スクリプト
```

## 🔧 環境セットアップ

### 前提条件
- **tmux**: セッション管理ツール
- **Claude Code**: ターミナル対応のClaude環境
- **Bash/Zsh**: Unix系シェル

### インストール手順

1. **リポジトリクローン**
   ```bash
   git clone https://github.com/SkDevs-xx/Claude-Code-tmux-Max.git
   cd Claude-Code-tmux-Max
   ```

2. **実行権限付与**
   ```bash
   chmod +x roles/agent-send.sh setup.sh session-kill.sh
   ```

3. **環境構築**
   ```bash
   ./setup.sh
   ```

4. **Claude Code起動**
   ```bash
   # PMセッション開始
   tmux attach-session -t pm
   # multiagentセッション開始（別ターミナル）
   tmux attach-session -t multiagent
   
   # 各セッションでClaude認証
   claude --dangerously-skip-permissions
   ```

## 🎮 実際の使い方

### ステップ1: プロジェクト開始
PMペインで日本語指示を入力：
```
あなたはpmです。HTMLとJavaScriptで動作するテトリスゲームを作成してください。
```

### ステップ2: 自動ワークフロー実行
以下が自動的に実行されます：

1. **PM**: 日本語指示を英語仕様書に変換
2. **TechLead**: 仕様を技術タスクに分解
3. **BP1,2,3**: 各担当コンポーネントを並行開発
4. **TechLead**: 統合テスト・品質チェック
5. **PM**: 完成報告を日本語でユーザーに通知

### ステップ3: 変更要求への対応
プロジェクト途中でも変更可能：
```
スコア表示機能を追加してください。
```

## 💡 使用例・ユースケース

### ✨ Webアプリケーション開発
- **フロントエンド**: React/Vue.js SPA
- **バックエンド**: Node.js/Python API
- **データベース**: 設計＆実装

### ✨ ゲーム開発
- **UI/UX**: レスポンシブデザイン
- **ゲームロジック**: JavaScript/Canvas
- **データ管理**: ローカルストレージ/サーバー

### ✨ ツール・ユーティリティ
- **CLI ツール**: 自動化スクリプト
- **データ処理**: CSVパーサー、分析ツール
- **API 統合**: 外部サービス連携

## 🔍 トラブルシューティング

### セッションが起動しない
```bash
# セッション状況確認
tmux list-sessions

# 問題のセッション削除
./session-kill.sh

# 再セットアップ
./setup.sh
```

### エージェント間通信エラー
```bash
# 通信テスト
./roles/agent-send.sh --list

# ログ確認
cat logs/send_log.txt
```

### Claude Code認証問題
各ペインで個別に認証が必要です：
```bash
claude --dangerously-skip-permissions
```

## 🎯 上級者向け設定

### カスタムエージェント追加
`roles.json`を編集して新しい役割を定義：
```json
{
    "roleName": "QA",
    "title": "Quality Assurance Engineer",
    "keyResponsibilities": ["テスト設計", "バグ検証"],
    "forbiddenActions": ["本番デプロイ"]
}
```

### 通信プロトコル拡張
`agent-send.sh`を修正してSlackやGitHub連携も可能

### パフォーマンス最適化
大規模プロジェクトでは`BP`エージェントを増やしてタスク並列化

## 🤝 コントリビューション

このフレームワークは実践的な利用を通じて改善されています。

### 歓迎する改善提案
- エージェント役割の最適化
- 通信プロトコルの効率化
- 新しいユースケースの実装例
- ドキュメントの充実

### 課題報告
GitHub Issuesで以下の情報と共に報告してください：
- 環境情報（OS、tmux/Claude Codeバージョン）
- 再現手順
- 期待される動作と実際の動作

## 📄 ライセンス

MIT License - 詳細は[LICENSE](LICENSE)ファイルを参照

## 🙏 謝辞

このフレームワークは、AIによる協調開発の可能性を信じる開発者コミュニティの貢献によって成長しています。実用的なフィードバックと継続的な改善提案に感謝いたします。

---

**🎯 次のステップ**: PMペインで「あなたはpmです。」から始まる指示を入力し、AIマルチエージェント開発を体験してみてください！
